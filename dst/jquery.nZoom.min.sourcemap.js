/*!
  
  jquery.nZoom.js
  
  Version: 0.1.0
  Author: Nunifuchisaka(nunifuchisaka@gmail.com)
  Website: http://nunifuchisaka.com/w/n-zoom/demo
  Repository: https://github.com/Nunifuchisaka/nZoom
  
*/
!function(t,e,i,s){"use strict";function o(e,i){_.bindAll(this,"setLargeImg","resetLargeImgCoordinate","enable","disable","grabStart","grabMove","grabEnd"),this.opts=t.extend({duration:500},i),this.$el=t(e),this.$img=this.$el.find(".nZoom__img"),this.$img_s=this.$img.children("img"),this.$enable=this.$el.find(".nZoom__enable"),this.el_width=this.$el.width(),this.el_width_half=Math.round(this.el_width/2),this.el_height=this.$el.height(),this.el_height_half=Math.round(this.el_height/2),this.status={enabled:!1,grabbing:!1},this.coordinate={x:0,y:0,top:0,left:0},this.setLargeImg(),this.$enable.click(this.enable),this.$el.on({"mousedown.nzoom":this.grabStart,"mousemove.nzoom":this.grabMove,"mouseup.nzoom":this.grabEnd,"mouseleave.nzoom":this.disable})}t.fn.nZoom=function(){var t,e,i=this,s=arguments[0],n=Array.prototype.slice.call(arguments,1),h=i.length;for(t=0;t<h;t++)if("object"==typeof s||void 0===s)i[t].nZoom=new o(i[t],s);else if(void 0!==(e=i[t].nZoom[s].apply(i[t].nZoom,n)))return e;return i},o.prototype.setLargeImg=function(){this.$lImg=this.$img_s.clone(),this.$lImg.removeAttr("width height").addClass("nZoom__lImg").fadeOut(0),this.$img.append(this.$lImg),this.resetLargeImgCoordinate()},o.prototype.resetLargeImgCoordinate=function(){this.lImg_width=this.$lImg.width(),this.lImg_height=this.$lImg.height(),this.$lImg.css({top:this.el_height_half-Math.round(this.lImg_height/2),left:this.el_width_half-Math.round(this.lImg_width/2)})},o.prototype.grabStart=function(t){this.status.enabled&&(this.status.grabbing=!0,this.coordinate={x:t.clientX,y:t.clientY,top:parseInt(this.$lImg.css("top")),left:parseInt(this.$lImg.css("left"))})},o.prototype.grabMove=function(t){if(this.status.grabbing){var e=this.coordinate.left+-1*(this.coordinate.x-t.clientX),i=this.coordinate.top+-1*(this.coordinate.y-t.clientY),s=-1*(this.lImg_width-this.el_width),o=-1*(this.lImg_height-this.el_height);e<s&&(e=s),i<o&&(i=o),e>0&&(e=0),i>0&&(i=0),this.$lImg.css({top:i,left:e})}},o.prototype.grabEnd=function(t){this.status.grabbing&&(this.status.grabbing=!1)},o.prototype.enable=function(){return this.status.enabled=!0,this.resetLargeImgCoordinate(),this.$el.addClass("is_enabled"),this.$lImg.fadeIn(this.opts.duration),this.$enable.fadeOut(this.opts.duration),this.$el.trigger(new t.Event("enable")),!1},o.prototype.disable=function(){return this.status.enabled=!1,this.grabEnd(),this.$el.removeClass("is_enabled"),this.$lImg.fadeOut(this.opts.duration),this.$enable.fadeIn(this.opts.duration),this.$el.trigger(new t.Event("disable")),!1},e.nZoomCarousel=function(e){_.bindAll(this,"setCurrentSlide","enable","disable"),this.opts=t.extend({duration:500},e),this.$el=t(this.opts.el),this.$enable=this.$el.find(".nZoom__enable"),this.currentSlide=0,this.$zoom=this.$el.find(".nZoom"),this.$zoom.nZoom().on("disable",this.disable),this.$enable.click(this.enable)},nZoomCarousel.prototype.setCurrentSlide=function(t){this.currentSlide=t},nZoomCarousel.prototype.enable=function(){return this.$zoom.eq(this.currentSlide).nZoom("enable"),this.$enable.fadeOut(this.opts.duration),!1},nZoomCarousel.prototype.disable=function(){this.$enable.fadeIn(this.opts.duration)}}(jQuery,this,this.document);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIjExMF9oZWFkZXIuanMiLCI0MTBfblpvb20uanMiLCI0MTBfQ2Fyb3VzZWwuanMiLCI5OTBfZm9vdGVyLmpzIl0sIm5hbWVzIjpbIiQiLCJ3aW5kb3ciLCJkb2N1bWVudCIsInVuZGVmaW5lZCIsIm5ab29tIiwiZWwiLCJvcHRzIiwiXyIsImJpbmRBbGwiLCJ0aGlzIiwiZXh0ZW5kIiwiZHVyYXRpb24iLCIkZWwiLCIkaW1nIiwiZmluZCIsIiRpbWdfcyIsImNoaWxkcmVuIiwiJGVuYWJsZSIsImVsX3dpZHRoIiwid2lkdGgiLCJlbF93aWR0aF9oYWxmIiwiTWF0aCIsInJvdW5kIiwiZWxfaGVpZ2h0IiwiaGVpZ2h0IiwiZWxfaGVpZ2h0X2hhbGYiLCJzdGF0dXMiLCJlbmFibGVkIiwiZ3JhYmJpbmciLCJjb29yZGluYXRlIiwieCIsInkiLCJ0b3AiLCJsZWZ0Iiwic2V0TGFyZ2VJbWciLCJjbGljayIsImVuYWJsZSIsIm9uIiwibW91c2Vkb3duLm56b29tIiwiZ3JhYlN0YXJ0IiwibW91c2Vtb3ZlLm56b29tIiwiZ3JhYk1vdmUiLCJtb3VzZXVwLm56b29tIiwiZ3JhYkVuZCIsIm1vdXNlbGVhdmUubnpvb20iLCJkaXNhYmxlIiwiZm4iLCJpIiwicmV0Iiwic2VsZiIsIm9wdCIsImFyZ3VtZW50cyIsImFyZ3MiLCJBcnJheSIsInByb3RvdHlwZSIsInNsaWNlIiwiY2FsbCIsImwiLCJsZW5ndGgiLCJhcHBseSIsIiRsSW1nIiwiY2xvbmUiLCJyZW1vdmVBdHRyIiwiYWRkQ2xhc3MiLCJmYWRlT3V0IiwiYXBwZW5kIiwicmVzZXRMYXJnZUltZ0Nvb3JkaW5hdGUiLCJsSW1nX3dpZHRoIiwibEltZ19oZWlnaHQiLCJjc3MiLCJlIiwiY2xpZW50WCIsImNsaWVudFkiLCJwYXJzZUludCIsIm1pbl94IiwibWluX3kiLCJmYWRlSW4iLCJ0cmlnZ2VyIiwiRXZlbnQiLCJyZW1vdmVDbGFzcyIsIm5ab29tQ2Fyb3VzZWwiLCJjdXJyZW50U2xpZGUiLCIkem9vbSIs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QUFaLEVBQUFTLEtBQUFILEtBQUFELElBQ0FJLEtBQUFRLFFBQUFSLEtBQUFHLElBQUFFLEtBQUEsa0JBRUFMLEtBQUF3RSxhQUFBLEVBRUF4RSxLQUFBeUUsTUFBQXpFLEtBQUFHLElBQUFFLEtBQUEsVUFDQUwsS0FBQXlFLE1BQUE5RSxRQUNBaUMsR0FBQSxVQUFBNUIsS0FBQW9DLFNBRUFwQyxLQUFBUSxRQUFBa0IsTUFBQTFCLEtBQUEyQixTQVFBNEMsY0FBQTFCLFVBQUE2QixnQkFBQSxTQUFBRixHQUNBeEUsS0FBQXdFLGFBQUFBLEdBUUFELGNBQUExQixVQUFBbEIsT0FBQSxXQUdBLE9BRkEzQixLQUFBeUUsTUFBQUUsR0FBQTNFLEtBQUF3RSxjQUFBN0UsTUFBQSxVQUNBSyxLQUFBUSxRQUFBK0MsUUFBQXZELEtBQUFILEtBQUFLLFdBQ0EsR0FRQXFFLGNBQUExQixVQUFBVCxRQUFBLFdBQ0FwQyxLQUFBUSxRQUFBMkQsT0FBQW5FLEtBQUFILEtBQUFLLFlDaERBMEUsT0FBQTVFLEtBQUFBLEtBQUFQIiwiZmlsZSI6ImpxdWVyeS5uWm9vbS5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAgXG4gIGpxdWVyeS5uWm9vbS5qc1xuICBcbiAgVmVyc2lvbjogMC4xLjBcbiAgQXV0aG9yOiBOdW5pZnVjaGlzYWthKG51bmlmdWNoaXNha2FAZ21haWwuY29tKVxuICBXZWJzaXRlOiBodHRwOi8vbnVuaWZ1Y2hpc2FrYS5jb20vdy9uLXpvb20vZGVtb1xuICBSZXBvc2l0b3J5OiBodHRwczovL2dpdGh1Yi5jb20vTnVuaWZ1Y2hpc2FrYS9uWm9vbVxuICBcbiovXG47KGZ1bmN0aW9uKCQsIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCl7XG4ndXNlIHN0cmljdCc7XG4iLCIkLmZuLm5ab29tID0gZnVuY3Rpb24oKXtcbiAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgb3B0ID0gYXJndW1lbnRzWzBdLFxuICAgICAgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSksXG4gICAgICBsID0gc2VsZi5sZW5ndGgsXG4gICAgICBpLFxuICAgICAgcmV0O1xuICBcbiAgZm9yIChpID0gMDsgaSA8IGw7IGkrKykge1xuICAgIGlmICh0eXBlb2Ygb3B0ID09ICdvYmplY3QnIHx8IHR5cGVvZiBvcHQgPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHNlbGZbaV0ublpvb20gPSBuZXcgblpvb20oc2VsZltpXSwgb3B0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0ID0gc2VsZltpXS5uWm9vbVtvcHRdLmFwcGx5KHNlbGZbaV0ublpvb20sIGFyZ3MpO1xuICAgICAgaWYgKHR5cGVvZiByZXQgIT0gJ3VuZGVmaW5lZCcpIHJldHVybiByZXQ7XG4gICAgfVxuICB9XG4gIFxuICByZXR1cm4gc2VsZjtcbn1cblxuXG5cbi8qXG4jIyBuWm9vbVxuKi9cblxuZnVuY3Rpb24gblpvb20oIGVsLCBvcHRzICl7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgXy5iaW5kQWxsKHRoaXMsIFwic2V0TGFyZ2VJbWdcIiwgXCJyZXNldExhcmdlSW1nQ29vcmRpbmF0ZVwiLCBcImVuYWJsZVwiLCBcImRpc2FibGVcIiwgXCJncmFiU3RhcnRcIiwgXCJncmFiTW92ZVwiLCBcImdyYWJFbmRcIik7XG4gIHRoaXMub3B0cyA9ICQuZXh0ZW5kKHtcbiAgICBkdXJhdGlvbjogNTAwXG4gIH0sIG9wdHMpO1xuICBcbiAgdGhpcy4kZWwgPSAkKGVsKTtcbiAgdGhpcy4kaW1nID0gdGhpcy4kZWwuZmluZChcIi5uWm9vbV9faW1nXCIpO1xuICB0aGlzLiRpbWdfcyA9IHRoaXMuJGltZy5jaGlsZHJlbihcImltZ1wiKTtcbiAgdGhpcy4kZW5hYmxlID0gdGhpcy4kZWwuZmluZChcIi5uWm9vbV9fZW5hYmxlXCIpO1xuICBcbiAgdGhpcy5lbF93aWR0aCA9IHRoaXMuJGVsLndpZHRoKCk7XG4gIHRoaXMuZWxfd2lkdGhfaGFsZiA9IE1hdGgucm91bmQodGhpcy5lbF93aWR0aC8yKTtcbiAgdGhpcy5lbF9oZWlnaHQgPSB0aGlzLiRlbC5oZWlnaHQoKTtcbiAgdGhpcy5lbF9oZWlnaHRfaGFsZiA9IE1hdGgucm91bmQodGhpcy5lbF9oZWlnaHQvMik7XG4gIFxuICB0aGlzLnN0YXR1cyA9IHtcbiAgICBlbmFibGVkOiBmYWxzZSxcbiAgICBncmFiYmluZzogZmFsc2VcbiAgfTtcbiAgXG4gIHRoaXMuY29vcmRpbmF0ZSA9IHtcbiAgICB4OiAwLFxuICAgIHk6IDAsXG4gICAgdG9wOiAwLFxuICAgIGxlZnQ6IDBcbiAgfTtcbiAgXG4gIHRoaXMuc2V0TGFyZ2VJbWcoKTtcbiAgXG4gIHRoaXMuJGVuYWJsZS5jbGljayh0aGlzLmVuYWJsZSk7XG4gIHRoaXMuJGVsXG4gICAgLm9uKHtcbiAgICAgIC8vXCJjbGljay5uem9vbVwiOiB0aGlzLmRpc2FibGUsXG4gICAgICBcIm1vdXNlZG93bi5uem9vbVwiOiB0aGlzLmdyYWJTdGFydCxcbiAgICAgIFwibW91c2Vtb3ZlLm56b29tXCI6IHRoaXMuZ3JhYk1vdmUsXG4gICAgICBcIm1vdXNldXAubnpvb21cIjogdGhpcy5ncmFiRW5kLFxuICAgICAgXCJtb3VzZWxlYXZlLm56b29tXCI6IHRoaXMuZGlzYWJsZVxuICAgIH0pO1xufVxuXG5cblxuLypcbiMjIHNldExhcmdlSW1nXG4qL1xuXG5uWm9vbS5wcm90b3R5cGUuc2V0TGFyZ2VJbWcgPSBmdW5jdGlvbigpe1xuICB0aGlzLiRsSW1nID0gdGhpcy4kaW1nX3MuY2xvbmUoKTtcbiAgdGhpcy4kbEltZ1xuICAgIC5yZW1vdmVBdHRyKFwid2lkdGggaGVpZ2h0XCIpXG4gICAgLmFkZENsYXNzKFwiblpvb21fX2xJbWdcIilcbiAgICAuZmFkZU91dCgwKTtcbiAgXG4gIHRoaXMuJGltZy5hcHBlbmQodGhpcy4kbEltZyk7XG4gIFxuICB0aGlzLnJlc2V0TGFyZ2VJbWdDb29yZGluYXRlKCk7XG59XG5cblxublpvb20ucHJvdG90eXBlLnJlc2V0TGFyZ2VJbWdDb29yZGluYXRlID0gZnVuY3Rpb24oKXtcbiAgdGhpcy5sSW1nX3dpZHRoID0gdGhpcy4kbEltZy53aWR0aCgpO1xuICB0aGlzLmxJbWdfaGVpZ2h0ID0gdGhpcy4kbEltZy5oZWlnaHQoKTtcbiAgdGhpcy4kbEltZy5jc3Moe1xuICAgIHRvcDogdGhpcy5lbF9oZWlnaHRfaGFsZiAtIE1hdGgucm91bmQodGhpcy5sSW1nX2hlaWdodC8yKSxcbiAgICBsZWZ0OiB0aGlzLmVsX3dpZHRoX2hhbGYgLSBNYXRoLnJvdW5kKHRoaXMubEltZ193aWR0aC8yKVxuICB9KTtcbn1cblxuXG5cbi8qXG4jIyBkcmFnXG4qL1xuXG5uWm9vbS5wcm90b3R5cGUuZ3JhYlN0YXJ0ID0gZnVuY3Rpb24oZSl7XG4gIGlmKHRoaXMuc3RhdHVzLmVuYWJsZWQpe1xuICAgIHRoaXMuc3RhdHVzLmdyYWJiaW5nID0gdHJ1ZTtcbiAgICB0aGlzLmNvb3JkaW5hdGUgPSB7XG4gICAgICB4OiBlLmNsaWVudFgsXG4gICAgICB5OiBlLmNsaWVudFksXG4gICAgICB0b3A6IHBhcnNlSW50KHRoaXMuJGxJbWcuY3NzKFwidG9wXCIpKSxcbiAgICAgIGxlZnQ6IHBhcnNlSW50KHRoaXMuJGxJbWcuY3NzKFwibGVmdFwiKSlcbiAgICB9XG4gIH1cbn1cblxuXG5uWm9vbS5wcm90b3R5cGUuZ3JhYk1vdmUgPSBmdW5jdGlvbihlKXtcbiAgaWYodGhpcy5zdGF0dXMuZ3JhYmJpbmcpe1xuICAgIHZhciB4ID0gdGhpcy5jb29yZGluYXRlLmxlZnQgKyAoLTEgKiAodGhpcy5jb29yZGluYXRlLnggLSBlLmNsaWVudFgpKTtcbiAgICB2YXIgeSA9IHRoaXMuY29vcmRpbmF0ZS50b3AgKyAoLTEgKiAodGhpcy5jb29yZGluYXRlLnkgLSBlLmNsaWVudFkpKTtcbiAgICBcbiAgICB2YXIgbWluX3ggPSAtMSAqICh0aGlzLmxJbWdfd2lkdGggLSB0aGlzLmVsX3dpZHRoKSxcbiAgICAgICAgbWluX3kgPSAtMSAqICh0aGlzLmxJbWdfaGVpZ2h0IC0gdGhpcy5lbF9oZWlnaHQpO1xuICAgIFxuICAgIGlmKCB4IDwgbWluX3ggKSB4ID0gbWluX3g7XG4gICAgaWYoIHkgPCBtaW5feSApIHkgPSBtaW5feTtcbiAgICBcbiAgICBpZiggeCA+IDAgKSB4ID0gMDtcbiAgICBpZiggeSA+IDAgKSB5ID0gMDtcbiAgICBcbiAgICB0aGlzLiRsSW1nLmNzcyh7XG4gICAgICB0b3A6IHksXG4gICAgICBsZWZ0OiB4XG4gICAgfSk7XG4gIH1cbn1cblxuXG5uWm9vbS5wcm90b3R5cGUuZ3JhYkVuZCA9IGZ1bmN0aW9uKGUpe1xuICBpZih0aGlzLnN0YXR1cy5ncmFiYmluZyl7XG4gICAgdGhpcy5zdGF0dXMuZ3JhYmJpbmcgPSBmYWxzZTtcbiAgfVxufVxuXG5cblxuLypcbiMjIGVuYWJsZVxuKi9cblxublpvb20ucHJvdG90eXBlLmVuYWJsZSA9IGZ1bmN0aW9uKCl7XG4gIHRoaXMuc3RhdHVzLmVuYWJsZWQgPSB0cnVlO1xuICB0aGlzLnJlc2V0TGFyZ2VJbWdDb29yZGluYXRlKCk7XG4gIHRoaXMuJGVsLmFkZENsYXNzKFwiaXNfZW5hYmxlZFwiKTtcbiAgdGhpcy4kbEltZy5mYWRlSW4odGhpcy5vcHRzLmR1cmF0aW9uKTtcbiAgdGhpcy4kZW5hYmxlLmZhZGVPdXQodGhpcy5vcHRzLmR1cmF0aW9uKTtcbiAgXG4gIHRoaXMuJGVsLnRyaWdnZXIoIG5ldyAkLkV2ZW50KFwiZW5hYmxlXCIpICk7XG4gIFxuICByZXR1cm4gZmFsc2U7XG59XG5cblxuXG4vKlxuIyMgZGlzYWJsZVxuKi9cblxublpvb20ucHJvdG90eXBlLmRpc2FibGUgPSBmdW5jdGlvbigpe1xuICB0aGlzLnN0YXR1cy5lbmFibGVkID0gZmFsc2U7XG4gIHRoaXMuZ3JhYkVuZCgpO1xuICB0aGlzLiRlbC5yZW1vdmVDbGFzcyhcImlzX2VuYWJsZWRcIik7XG4gIHRoaXMuJGxJbWcuZmFkZU91dCh0aGlzLm9wdHMuZHVyYXRpb24pO1xuICB0aGlzLiRlbmFibGUuZmFkZUluKHRoaXMub3B0cy5kdXJhdGlvbik7XG4gIFxuICB0aGlzLiRlbC50cmlnZ2VyKCBuZXcgJC5FdmVudChcImRpc2FibGVcIikgKTtcbiAgXG4gIHJldHVybiBmYWxzZTtcbn1cbiIsIi8qXG4jIyBuWm9vbUNhcm91c2VsXG4qL1xuXG53aW5kb3cublpvb21DYXJvdXNlbCA9IGZ1bmN0aW9uICggb3B0cyApe1xuICBfLmJpbmRBbGwodGhpcywgXCJzZXRDdXJyZW50U2xpZGVcIiwgXCJlbmFibGVcIiwgXCJkaXNhYmxlXCIpO1xuICB0aGlzLm9wdHMgPSAkLmV4dGVuZCh7XG4gICAgZHVyYXRpb246IDUwMFxuICB9LCBvcHRzKTtcbiAgXG4gIHRoaXMuJGVsID0gJCh0aGlzLm9wdHMuZWwpO1xuICB0aGlzLiRlbmFibGUgPSB0aGlzLiRlbC5maW5kKFwiLm5ab29tX19lbmFibGVcIik7XG4gIFxuICB0aGlzLmN1cnJlbnRTbGlkZSA9IDA7XG4gIFxuICB0aGlzLiR6b29tID0gdGhpcy4kZWwuZmluZChcIi5uWm9vbVwiKTtcbiAgdmFyIHpvb20gPSB0aGlzLiR6b29tLm5ab29tKCk7XG4gIHpvb20ub24oXCJkaXNhYmxlXCIsIHRoaXMuZGlzYWJsZSk7XG4gIFxuICB0aGlzLiRlbmFibGUuY2xpY2sodGhpcy5lbmFibGUpO1xufVxuXG5cbi8qXG4jIyBzZXRDdXJyZW50U2xpZGVcbiovXG5cbm5ab29tQ2Fyb3VzZWwucHJvdG90eXBlLnNldEN1cnJlbnRTbGlkZSA9IGZ1bmN0aW9uKGN1cnJlbnRTbGlkZSl7XG4gIHRoaXMuY3VycmVudFNsaWRlID0gY3VycmVudFNsaWRlO1xufVxuXG5cbi8qXG4jIyBlbmFibGVcbiovXG5cbm5ab29tQ2Fyb3VzZWwucHJvdG90eXBlLmVuYWJsZSA9IGZ1bmN0aW9uKCl7XG4gIHRoaXMuJHpvb20uZXEoIHRoaXMuY3VycmVudFNsaWRlICkublpvb20oXCJlbmFibGVcIik7XG4gIHRoaXMuJGVuYWJsZS5mYWRlT3V0KHRoaXMub3B0cy5kdXJhdGlvbik7XG4gIHJldHVybiBmYWxzZTtcbn1cblxuXG4vKlxuIyMgZGlzYWJsZVxuKi9cblxublpvb21DYXJvdXNlbC5wcm90b3R5cGUuZGlzYWJsZSA9IGZ1bmN0aW9uKCl7XG4gIHRoaXMuJGVuYWJsZS5mYWRlSW4odGhpcy5vcHRzLmR1cmF0aW9uKTtcbn1cbiIsIn0pKGpRdWVyeSwgdGhpcywgdGhpcy5kb2N1bWVudCk7Il19
